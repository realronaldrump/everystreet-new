/* ============================
   Button Components
   ============================ */

/* === Buttons - Refined & Clean === */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  min-height: var(--touch-target);
  border-radius: var(--radius-md);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition:
    background-color var(--transition-fast),
    color var(--transition-fast),
    border-color var(--transition-fast);
  border: 1px solid transparent;
  font-size: var(--font-size-sm);
  line-height: var(--line-height-normal);
  text-decoration: none;
  position: relative;
  user-select: none;
  touch-action: manipulation;
  background-color: var(--btn-bg, transparent);
  color: var(--btn-color, var(--text-primary));
  border-color: var(--btn-border, transparent);
  box-shadow: var(--btn-shadow, none);

  --btn-loading-color: var(--btn-color, var(--text-primary));
}

.btn:disabled,
.btn.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn:hover:not(:disabled, .disabled) {
  background-color: var(--btn-bg-hover, var(--btn-bg, transparent));
  color: var(--btn-color-hover, var(--btn-color, var(--text-primary)));
  border-color: var(--btn-border-hover, var(--btn-border, transparent));
  box-shadow: var(--btn-shadow-hover, var(--btn-shadow, none));
}

.btn:focus-visible {
  box-shadow: var(--focus-ring-strong);
}

.btn:active:not(:disabled, .disabled) {
  transform: translateY(1px);
}

.btn i {
  font-size: 1.1em; /* Slightly larger icons in buttons */
}

.btn-primary {
  --btn-bg: var(--primary);
  --btn-bg-hover: var(--primary-dark);
  --btn-color: var(--text-on-primary);
  --btn-border: rgb(var(--primary-rgb) / 55%);
  --btn-border-hover: rgb(var(--primary-rgb) / 70%);
}

.btn-secondary {
  --btn-bg: var(--surface-3);
  --btn-bg-hover: var(--surface-4);
  --btn-color: var(--text-primary);
  --btn-border: var(--border-color-light);
  --btn-border-hover: var(--border-color-light);
}

.btn-success {
  --btn-bg: rgb(var(--success-rgb) / 14%);
  --btn-bg-hover: rgb(var(--success-rgb) / 22%);
  --btn-color: var(--success);
  --btn-border: rgb(var(--success-rgb) / 45%);
  --btn-border-hover: rgb(var(--success-rgb) / 60%);
}

.btn-danger {
  --btn-bg: rgb(var(--danger-rgb) / 18%);
  --btn-bg-hover: rgb(var(--danger-rgb) / 28%);
  --btn-color: var(--danger);
  --btn-border: rgb(var(--danger-rgb) / 50%);
  --btn-border-hover: rgb(var(--danger-rgb) / 70%);
}

.btn-warning {
  --btn-bg: rgb(var(--warning-rgb) / 16%);
  --btn-bg-hover: rgb(var(--warning-rgb) / 26%);
  --btn-color: var(--warning);
  --btn-border: rgb(var(--warning-rgb) / 50%);
  --btn-border-hover: rgb(var(--warning-rgb) / 70%);
}

.btn-info {
  --btn-bg: rgb(var(--info-rgb) / 16%);
  --btn-bg-hover: rgb(var(--info-rgb) / 26%);
  --btn-color: var(--info);
  --btn-border: rgb(var(--info-rgb) / 50%);
  --btn-border-hover: rgb(var(--info-rgb) / 70%);
}

.btn-outline {
  --btn-bg: transparent;
  --btn-bg-hover: var(--surface-2);
  --btn-color: var(--text-primary);
  --btn-border: var(--border-color-light);
  --btn-border-hover: var(--border-color-light);
}

.btn-outline-primary {
  --btn-color: var(--primary);
  --btn-border: rgb(var(--primary-rgb) / 55%);
  --btn-border-hover: rgb(var(--primary-rgb) / 70%);
  --btn-bg-hover: rgb(var(--primary-rgb) / 10%);
}

.btn-outline-secondary {
  --btn-color: var(--secondary);
  --btn-border: rgb(var(--secondary-rgb) / 55%);
  --btn-border-hover: rgb(var(--secondary-rgb) / 70%);
  --btn-bg-hover: rgb(var(--secondary-rgb) / 10%);
}

.btn-outline-success {
  --btn-color: var(--success);
  --btn-border: rgb(var(--success-rgb) / 55%);
  --btn-border-hover: rgb(var(--success-rgb) / 70%);
  --btn-bg-hover: rgb(var(--success-rgb) / 12%);
}

.btn-outline-warning {
  --btn-color: var(--warning);
  --btn-border: rgb(var(--warning-rgb) / 55%);
  --btn-border-hover: rgb(var(--warning-rgb) / 70%);
  --btn-bg-hover: rgb(var(--warning-rgb) / 12%);
}

.btn-outline-danger {
  --btn-color: var(--danger);
  --btn-border: rgb(var(--danger-rgb) / 55%);
  --btn-border-hover: rgb(var(--danger-rgb) / 70%);
  --btn-bg-hover: rgb(var(--danger-rgb) / 12%);
}

.btn-outline-info {
  --btn-color: var(--info);
  --btn-border: rgb(var(--info-rgb) / 55%);
  --btn-border-hover: rgb(var(--info-rgb) / 70%);
  --btn-bg-hover: rgb(var(--info-rgb) / 12%);
}

.btn-outline-light {
  --btn-color: var(--text-primary);
  --btn-border: var(--border-color-light);
  --btn-border-hover: var(--border-color-light);
  --btn-bg-hover: var(--surface-2);
}

.btn-link {
  --btn-bg: transparent;
  --btn-bg-hover: transparent;
  --btn-border: transparent;
  --btn-color: var(--text-secondary);
  --btn-color-hover: var(--text-primary);

  text-decoration: none;
}

.btn-block {
  display: flex;
  width: 100%;
}

.btn-icon {
  width: var(--touch-target);
  height: var(--touch-target);
  padding: 0;
  border-radius: var(--radius-full);
}

/* Note: .btn-icon-only is defined in features/map/controls.css for control panel context */

.btn-sm {
  padding: var(--space-1) var(--space-3);
  font-size: var(--font-size-xs);
  border-radius: var(--radius-sm);
}

.btn-lg {
  padding: var(--space-3) var(--space-6);
  font-size: var(--font-size-md);
  border-radius: var(--radius-lg);
}

/* === Button Group === */
.btn-group {
  position: relative;
  display: inline-flex;
  vertical-align: middle;
}

.btn-group > .btn {
  position: relative;
  flex: 1 1 auto;
}

.btn-group > .btn:not(:first-child) {
  margin-left: -1px;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}

.btn-group > .btn:not(:last-child) {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}

.btn-group > .btn:first-child {
  border-top-left-radius: var(--radius-md);
  border-bottom-left-radius: var(--radius-md);
}

.btn-group > .btn:last-child {
  border-top-right-radius: var(--radius-md);
  border-bottom-right-radius: var(--radius-md);
}

.btn-group > .btn:hover {
  z-index: 1; /* Bring hovered button to front */
}

.btn-group-sm .btn {
  padding: var(--space-1) var(--space-3);
  font-size: var(--font-size-xs);
  border-radius: var(--radius-sm);
}
