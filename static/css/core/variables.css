/* ============================
   Design Tokens: Refined Minimal
   Palette (Muted, Sophisticated)
   - Sage:   #4a9e8c (primary)
   - Slate:  #6b7280 (secondary)
   - Rose:   #b45555 (danger)
   - Steel:  #6b8eb8 (info)
   - Ochre:  #b89b5a (warning)
   - Olive:  #6b8f5c (success)

   Radii
   - Containers/cards: 8-12px
   - Controls: 6px
   - Pills: 9999px

   Spacing
   - 4px grid (0.25rem - 4rem)

   Typography
   - Font: Geist Sans (400-700)
   - Clean hierarchy, restrained weights
   ============================ */

:root {
  /* Categorical Palette - Muted & Sophisticated */
  --cat-sage: #4a9e8c;
  --cat-sage-rgb: 74 158 140;
  --cat-slate: #6b7280;
  --cat-slate-rgb: 107 114 128;
  --cat-rose: #b45555;
  --cat-rose-rgb: 180 85 85;
  --cat-steel: #6b8eb8;
  --cat-steel-rgb: 107 142 184;
  --cat-ochre: #b89b5a;
  --cat-ochre-rgb: 184 155 90;
  --cat-olive: #6b8f5c;
  --cat-olive-rgb: 107 143 92;

  /* Semantic Colors */
  --primary: var(--cat-sage);
  --primary-light: #6bb5a5;
  --primary-dark: #3a7d6f;
  --primary-rgb: var(--cat-sage-rgb);
  --secondary: var(--cat-slate);
  --secondary-light: #9ca3af;
  --secondary-dark: #4b5563;
  --secondary-rgb: var(--cat-slate-rgb);
  --success: var(--cat-olive);
  --success-light: #8aab7a;
  --success-dark: #567548;
  --success-rgb: var(--cat-olive-rgb);
  --warning: var(--cat-ochre);
  --warning-light: #d4b876;
  --warning-dark: #9a8048;
  --warning-rgb: var(--cat-ochre-rgb);
  --danger: var(--cat-rose);
  --danger-light: #c87a7a;
  --danger-dark: #8f4444;
  --danger-rgb: var(--cat-rose-rgb);
  --info: var(--cat-steel);
  --info-light: #8fa9c9;
  --info-dark: #5571a3;
  --info-rgb: var(--cat-steel-rgb);

  /* Flat colors - no gradients */
  --primary-gradient: var(--primary);
  --secondary-gradient: var(--secondary);
  --success-gradient: var(--success);
  --warning-gradient: var(--warning);
  --danger-gradient: var(--danger);
  --info-gradient: var(--info);

  /* Dark Mode Surfaces (Default) */
  --surface-0: #0f1116;
  --surface-1: #171a21;
  --surface-2: #1f232c;
  --surface-3: #272c36;
  --surface-4: #303543;
  --surface-elevated: #232833;
  --surface-glass: rgb(23 26 33 / 82%);
  --surface-rgb: 23 26 33;
  --text-primary: rgb(242 245 248 / 92%);
  --text-secondary: rgb(200 206 214 / 78%);
  --text-tertiary: rgb(160 168 179 / 55%);
  --text-on-primary: #0c1412;
  --text-on-secondary: #140f24;
  --text-on-dark: #0e1218;
  --text-on-light: #101217;
  --border-color: rgb(160 170 185 / 22%);
  --border-color-light: rgb(160 170 185 / 36%);
  --divider-color: rgb(160 170 185 / 12%);
  --border-rgb: 160 170 185;
  --text-rgb: 242 245 248;

  /* Typography */
  --font-family: "Geist Sans", "Geist", system-ui, -apple-system, sans-serif;
  --font-family-display: "Geist Sans", "Geist", system-ui, -apple-system, sans-serif;
  --font-family-mono:
    "Geist Mono", ui-monospace, sfmono-regular, menlo, monaco, consolas, monospace;
  --font-size-xs: clamp(0.72rem, 0.68rem + 0.2vw, 0.82rem);
  --font-size-sm: clamp(0.84rem, 0.8rem + 0.2vw, 0.98rem);
  --font-size-md: clamp(0.98rem, 0.94rem + 0.25vw, 1.08rem);
  --font-size-base: var(--font-size-md);
  --font-size-lg: clamp(1.08rem, 1.02rem + 0.3vw, 1.26rem);
  --font-size-xl: clamp(1.26rem, 1.14rem + 0.5vw, 1.48rem);
  --font-size-2xl: clamp(1.48rem, 1.32rem + 0.8vw, 1.92rem);
  --font-size-3xl: clamp(1.8rem, 1.55rem + 1vw, 2.35rem);
  --font-size-4xl: clamp(2.2rem, 1.9rem + 1.4vw, 2.9rem);
  --font-size-display: clamp(2.6rem, 2.1rem + 2.1vw, 3.6rem);
  --font-weight-light: 300;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;
  --line-height-tight: 1.15;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.7;

  /* Spacing System (4px grid) */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-16: 4rem;

  /* Layout */
  --header-height: 64px;
  --content-max-width: 1440px;
  --sidebar-width: 280px;
  --panel-width: 360px;

  /* Effects */
  --transition-fast: 140ms cubic-bezier(0.2, 0, 0, 1);
  --transition-normal: 220ms cubic-bezier(0.2, 0, 0, 1);
  --transition-slow: 320ms cubic-bezier(0.2, 0, 0, 1);
  --transition-spring: 260ms cubic-bezier(0.2, 0, 0, 1);
  --transition-spring-fast: 180ms cubic-bezier(0.2, 0, 0, 1);
  --shadow-xs: 0 1px 2px rgb(0 0 0 / 10%);
  --shadow-sm: 0 4px 12px rgb(0 0 0 / 14%);
  --shadow-md: 0 10px 24px rgb(0 0 0 / 18%);
  --shadow-lg: 0 16px 36px rgb(0 0 0 / 22%);
  --shadow-xl: 0 24px 52px rgb(0 0 0 / 26%);
  --shadow-inset: inset 0 1px 2px rgb(0 0 0 / 16%);
  --shadow-elevation-1: 0 6px 16px rgb(0 0 0 / 14%);
  --shadow-elevation-2: 0 12px 24px rgb(0 0 0 / 18%);
  --shadow-elevation-3: 0 18px 36px rgb(0 0 0 / 22%);
  --shadow-elevation-4: 0 26px 48px rgb(0 0 0 / 25%);
  --shadow-elevation-5: 0 34px 60px rgb(0 0 0 / 28%);

  /* Accents - no glows, flat colors */
  --glow-primary: none;
  --glow-primary-intense: none;
  --glow-success: none;
  --glow-success-intense: none;
  --glow-warning: none;
  --glow-danger: none;
  --glow-info: none;
  --accent: var(--primary);
  --accent-rgb: var(--primary-rgb);
  --section-accent: var(--accent);
  --section-accent-rgb: var(--accent-rgb);
  --ambient-tint: transparent;
  --gradient-ambient: transparent;
  --gradient-accent-bar: var(--primary);
  --gradient-surface-glow: transparent;

  /* Interactive lift shadows */
  --shadow-lift: 0 12px 26px rgb(0 0 0 / 22%);
  --shadow-lift-intense: 0 18px 36px rgb(0 0 0 / 26%);

  /* Glass + Blur */
  --blur-subtle: 10px;
  --blur-strong: 16px;
  --blur-modal: 22px;
  --glass-1: rgb(var(--surface-rgb) / 78%);
  --glass-2: rgb(var(--surface-rgb) / 86%);
  --glass-3: rgb(var(--surface-rgb) / 94%);
  --glass-border: rgb(var(--border-rgb) / 25%);

  /* Border Radius - More subtle */
  --radius-xs: 4px;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 10px;
  --radius-xl: 12px;
  --radius-full: 9999px;
  --radius-pill: 9999px;

  /* Focus */
  --focus-ring: 0 0 0 3px rgb(var(--accent-rgb) / 24%);
  --focus-ring-strong: 0 0 0 4px rgb(var(--accent-rgb) / 32%);
  --focus-outline: 2px solid rgb(var(--accent-rgb) / 60%);

  /* Touch targets */
  --touch-target: 44px;

  /* Z-Index */
  --z-base: 1;
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-drawer: 1040;
  --z-modal-backdrop: 1050;
  --z-modal: 1055;
  --z-popover: 1060;
  --z-tooltip: 1070;
  --z-overlay: 1080;
  --z-loading-overlay: 9999;

  /* Scrollbar */
  --scrollbar-thumb-color: rgb(160 170 185 / 35%);
  --scrollbar-track-color: transparent;
  --scrollbar-thumb-hover-color: rgb(160 170 185 / 55%);

  /* Utility Aliases */
  --text-color: var(--text-primary);
  --primary-color: var(--primary);
  --font-mono: var(--font-family-mono);

  /* Bootstrap Bridge */
  --bs-body-font-family: var(--font-family);
  --bs-body-font-size: var(--font-size-md);
  --bs-body-bg: var(--surface-0);
  --bs-body-bg-rgb: var(--surface-rgb);
  --bs-body-color: var(--text-primary);
  --bs-secondary-color: var(--text-secondary);
  --bs-tertiary-color: var(--text-tertiary);
  --bs-secondary-bg: var(--surface-2);
  --bs-tertiary-bg: var(--surface-3);
  --bs-border-color: var(--border-color);
  --bs-border-radius: var(--radius-lg);
  --bs-border-radius-sm: var(--radius-md);
  --bs-border-radius-lg: var(--radius-xl);
  --bs-border-radius-xl: var(--radius-xl);
  --bs-border-radius-xxl: calc(var(--radius-xl) + 4px);
  --bs-border-radius-pill: var(--radius-pill);
  --bs-primary: var(--primary);
  --bs-primary-rgb: var(--primary-rgb);
  --bs-secondary: var(--secondary);
  --bs-secondary-rgb: var(--secondary-rgb);
  --bs-success: var(--success);
  --bs-success-rgb: var(--success-rgb);
  --bs-info: var(--info);
  --bs-info-rgb: var(--info-rgb);
  --bs-warning: var(--warning);
  --bs-warning-rgb: var(--warning-rgb);
  --bs-danger: var(--danger);
  --bs-danger-rgb: var(--danger-rgb);
  --bs-light: var(--surface-2);
  --bs-dark: var(--surface-4);
  --bs-link-color: var(--primary);
  --bs-link-hover-color: var(--primary-dark);
  --bs-box-shadow: var(--shadow-sm);
  --bs-focus-ring-color: rgb(var(--accent-rgb) / 25%);
}

/* Light Mode Overrides */
body.light-mode {
  --surface-0: #f5f7fb;
  --surface-1: #fff;
  --surface-2: #edf0f6;
  --surface-3: #e1e6ef;
  --surface-4: #d5dbe7;
  --surface-elevated: #f0f3f9;
  --surface-glass: rgb(255 255 255 / 88%);
  --surface-rgb: 245 247 251;
  --text-primary: rgb(22 24 29 / 92%);
  --text-secondary: rgb(66 72 83 / 75%);
  --text-tertiary: rgb(96 104 118 / 55%);
  --border-color: rgb(20 24 32 / 12%);
  --border-color-light: rgb(20 24 32 / 22%);
  --divider-color: rgb(20 24 32 / 8%);
  --border-rgb: 20 24 32;
  --text-rgb: 22 24 29;
  --shadow-xs: 0 1px 2px rgb(20 24 32 / 6%);
  --shadow-sm: 0 4px 12px rgb(20 24 32 / 10%);
  --shadow-md: 0 10px 24px rgb(20 24 32 / 14%);
  --shadow-lg: 0 16px 36px rgb(20 24 32 / 16%);
  --shadow-xl: 0 24px 52px rgb(20 24 32 / 18%);
  --shadow-elevation-1: 0 6px 16px rgb(20 24 32 / 10%);
  --shadow-elevation-2: 0 12px 24px rgb(20 24 32 / 12%);
  --shadow-elevation-3: 0 18px 36px rgb(20 24 32 / 14%);
  --shadow-elevation-4: 0 26px 48px rgb(20 24 32 / 16%);
  --shadow-elevation-5: 0 34px 60px rgb(20 24 32 / 18%);
  --scrollbar-thumb-color: rgb(85 214 194 / 30%);
  --scrollbar-track-color: rgb(20 24 32 / 6%);
  --scrollbar-thumb-hover-color: rgb(85 214 194 / 45%);
  --glass-1: rgb(var(--surface-rgb) / 82%);
  --glass-2: rgb(var(--surface-rgb) / 90%);
  --glass-3: rgb(var(--surface-rgb) / 96%);
  --glass-border: rgb(var(--border-rgb) / 18%);
}

/* Changelog: Modern Soft-Tech UI
   - Before: minimalist palette, tight radii, row-based layouts.
   - After: matte neon-pastel categories, pill controls, 20-24px radii.
   - Layout: Bento grid widgets with consistent headers/accents and staggered reveal.
   - Coverage Navigator: stacked widget panel + tokenized map legend accents.
   - Insights/Visits/Search: legacy duplicates removed, motion softened, tokens normalized.
*/
