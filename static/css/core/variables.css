/* ============================
   Design Tokens: Carbon Signal
   Palette (Bold, Professional)
   - Signal Teal: #1fb6ad (primary)
   - Slate:       #5b6b82 (secondary)
   - Ember:       #e25555 (danger)
   - Cobalt:      #4f7cff (info)
   - Amber:       #f2b94b (warning)
   - Verdant:     #2fb86d (success)

   Radii
   - Containers/cards: 7-12px
   - Controls: 5-7px
   - Pills: 9999px

   Spacing
   - 4px grid (0.25rem - 4rem)

   Typography
   - Font: IBM Plex Sans + Chivo
   - Dense, confident hierarchy
   ============================ */

:root {
  /* Categorical Palette - Bold & Professional */
  --cat-sage: #1fb6ad;
  --cat-sage-rgb: 31 182 173;
  --cat-slate: #5b6b82;
  --cat-slate-rgb: 91 107 130;
  --cat-rose: #e25555;
  --cat-rose-rgb: 226 85 85;
  --cat-steel: #4f7cff;
  --cat-steel-rgb: 79 124 255;
  --cat-ochre: #f2b94b;
  --cat-ochre-rgb: 242 185 75;
  --cat-olive: #2fb86d;
  --cat-olive-rgb: 47 184 109;
  --cat-sky: #4aa8ff;
  --cat-sky-rgb: 74 168 255;
  --cat-lime: #8edc3f;
  --cat-lime-rgb: 142 220 63;
  --cat-coral: #f06b4f;
  --cat-coral-rgb: 240 107 79;
  --cat-mint: #29d3c2;
  --cat-mint-rgb: 41 211 194;
  --cat-purple: #4f62d6;
  --cat-purple-rgb: 79 98 214;

  /* Semantic Colors */
  --primary: var(--cat-sage);
  --primary-light: #39d2c7;
  --primary-dark: #138d86;
  --primary-rgb: var(--cat-sage-rgb);
  --secondary: var(--cat-slate);
  --secondary-light: #8a9bb3;
  --secondary-dark: #3e4a5f;
  --secondary-rgb: var(--cat-slate-rgb);
  --success: var(--cat-olive);
  --success-light: #45d384;
  --success-dark: #21814d;
  --success-rgb: var(--cat-olive-rgb);
  --warning: var(--cat-ochre);
  --warning-light: #f6c96d;
  --warning-dark: #d89624;
  --warning-rgb: var(--cat-ochre-rgb);
  --danger: var(--cat-rose);
  --danger-light: #ef7b7b;
  --danger-dark: #b23b3b;
  --danger-rgb: var(--cat-rose-rgb);
  --info: var(--cat-steel);
  --info-light: #7aa0ff;
  --info-dark: #2f55d6;
  --info-rgb: var(--cat-steel-rgb);

  /* Flat colors - no gradients */
  --primary-gradient: var(--primary);
  --secondary-gradient: var(--secondary);
  --success-gradient: var(--success);
  --warning-gradient: var(--warning);
  --danger-gradient: var(--danger);
  --info-gradient: var(--info);

  /* Dark Mode Surfaces (Default) */
  --surface-0: #0b0f14;
  --surface-1: #0f1520;
  --surface-2: #141c2a;
  --surface-3: #1a2435;
  --surface-4: #223049;
  --surface-elevated: #121a27;
  --surface-glass: rgb(15 21 32 / 82%);
  --surface-rgb: 15 21 32;
  --text-primary: rgb(242 247 252 / 92%);
  --text-secondary: rgb(196 209 226 / 78%);
  --text-tertiary: rgb(136 150 170 / 55%);
  --text-on-primary: #061316;
  --text-on-secondary: #0b1520;
  --text-on-dark: #0b1016;
  --text-on-light: #0f141a;
  --border-color: rgb(120 138 160 / 28%);
  --border-color-light: rgb(120 138 160 / 45%);
  --divider-color: rgb(120 138 160 / 16%);
  --border-rgb: 120 138 160;
  --text-rgb: 242 247 252;

  /* Typography */
  --font-family: "IBM Plex Sans", "Chivo", system-ui, -apple-system, sans-serif;
  --font-family-display: "Chivo", "IBM Plex Sans", system-ui, -apple-system, sans-serif;
  --font-family-mono:
    "IBM Plex Mono", ui-monospace, sfmono-regular, menlo, monaco, consolas, monospace;
  --font-size-xs: clamp(0.72rem, 0.68rem + 0.2vw, 0.82rem);
  --font-size-sm: clamp(0.84rem, 0.8rem + 0.2vw, 0.98rem);
  --font-size-md: clamp(0.98rem, 0.94rem + 0.25vw, 1.08rem);
  --font-size-base: var(--font-size-md);
  --font-size-lg: clamp(1.08rem, 1.02rem + 0.3vw, 1.26rem);
  --font-size-xl: clamp(1.26rem, 1.14rem + 0.5vw, 1.48rem);
  --font-size-2xl: clamp(1.48rem, 1.32rem + 0.8vw, 1.92rem);
  --font-size-3xl: clamp(1.8rem, 1.55rem + 1vw, 2.35rem);
  --font-size-4xl: clamp(2.2rem, 1.9rem + 1.4vw, 2.9rem);
  --font-size-display: clamp(2.6rem, 2.1rem + 2.1vw, 3.6rem);
  --font-weight-light: 300;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;
  --line-height-tight: 1.15;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.7;

  /* Spacing System (4px grid) */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-16: 4rem;

  /* Layout rhythm */
  --page-gutter: clamp(1rem, 2.6vw, 2.75rem);
  --page-gutter-tight: clamp(0.75rem, 2.1vw, 1.5rem);
  --section-gap: clamp(1.25rem, 2.4vw, 2.5rem);
  --card-padding: clamp(1rem, 1.6vw, 1.5rem);
  --card-padding-lg: clamp(1.25rem, 2.1vw, 2rem);

  /* Layout */
  --header-height: 64px;
  --content-max-width: 1440px;
  --sidebar-width: 280px;
  --panel-width: 360px;

  /* Effects */
  --transition-fast: 140ms cubic-bezier(0.2, 0, 0, 1);
  --transition-normal: 220ms cubic-bezier(0.2, 0, 0, 1);
  --transition-slow: 320ms cubic-bezier(0.2, 0, 0, 1);
  --transition-spring: 260ms cubic-bezier(0.2, 0, 0, 1);
  --transition-spring-fast: 180ms cubic-bezier(0.2, 0, 0, 1);
  --shadow-xs: 0 1px 2px rgb(0 0 0 / 10%);
  --shadow-sm: 0 4px 12px rgb(0 0 0 / 14%);
  --shadow-md: 0 10px 24px rgb(0 0 0 / 18%);
  --shadow-lg: 0 16px 36px rgb(0 0 0 / 22%);
  --shadow-xl: 0 24px 52px rgb(0 0 0 / 26%);
  --shadow-inset: inset 0 1px 2px rgb(0 0 0 / 16%);
  --shadow-elevation-1: 0 6px 16px rgb(0 0 0 / 14%);
  --shadow-elevation-2: 0 12px 24px rgb(0 0 0 / 18%);
  --shadow-elevation-3: 0 18px 36px rgb(0 0 0 / 22%);
  --shadow-elevation-4: 0 26px 48px rgb(0 0 0 / 25%);
  --shadow-elevation-5: 0 34px 60px rgb(0 0 0 / 28%);

  /* Accent colors */
  --accent: var(--primary);
  --accent-rgb: var(--primary-rgb);
  --gradient-accent-bar: var(--primary);

  /* Subtle glows for interactive states */
  --glow-primary: 0 0 20px rgb(var(--primary-rgb) / 25%);
  --glow-success: 0 0 16px rgb(var(--success-rgb) / 25%);
  --glow-accent: 0 0 12px rgb(var(--accent-rgb) / 20%);
  --glow-warning: 0 0 16px rgb(var(--warning-rgb) / 30%);
  --glow-danger: 0 0 18px rgb(var(--danger-rgb) / 35%);

  /* Gradient surfaces for glassmorphism */
  --gradient-surface-glow: linear-gradient(135deg, rgb(255 255 255 / 3%) 0%, transparent 50%);
  --gradient-ambient: radial-gradient(
    ellipse at top,
    rgb(var(--primary-rgb) / 10%) 0%,
    transparent 60%
  );
  --app-bg:
    radial-gradient(1200px circle at 10% -10%, rgb(var(--primary-rgb) / 22%), transparent 65%),
    radial-gradient(1000px circle at 110% 10%, rgb(var(--info-rgb) / 18%), transparent 60%),
    radial-gradient(900px circle at 50% 120%, rgb(var(--warning-rgb) / 10%), transparent 65%);

  /* Interactive lift shadows */
  --shadow-lift: 0 12px 26px rgb(0 0 0 / 22%);
  --shadow-lift-intense: 0 18px 36px rgb(0 0 0 / 26%);

  /* Glass + Blur */
  --blur-subtle: 10px;
  --blur-strong: 16px;
  --blur-modal: 22px;
  --glass-1: rgb(var(--surface-rgb) / 78%);
  --glass-2: rgb(var(--surface-rgb) / 86%);
  --glass-3: rgb(var(--surface-rgb) / 94%);
  --glass-border: rgb(var(--border-rgb) / 25%);

  /* Extended Glass Palette */
  --glass-panel: rgb(var(--surface-rgb) / 72%);
  --glass-panel-hover: rgb(var(--surface-rgb) / 78%);
  --glass-dropdown: rgb(var(--surface-rgb) / 85%);
  --glass-input: rgb(var(--surface-rgb) / 45%);
  --glass-input-focus: rgb(var(--surface-rgb) / 55%);

  /* Glass borders - enhanced */
  --glass-border-subtle: rgb(var(--border-rgb) / 8%);
  --glass-border-medium: rgb(var(--border-rgb) / 15%);
  --glass-border-strong: rgb(var(--border-rgb) / 22%);

  /* Semantic street colors */
  --color-undriven: #00bfff;
  --color-undriven-rgb: 0 191 255;
  --color-driven: var(--success);

  /* Toggle/switch */
  --toggle-knob: var(--surface-1);
  --toggle-track-off: rgb(var(--border-rgb) / 25%);
  --toggle-track-on: var(--primary);

  /* Glass shadows */
  --shadow-glass-sm: 0 2px 10px rgb(0 0 0 / 28%), inset 0 1px 0 rgb(255 255 255 / 6%);
  --shadow-glass-md: 0 10px 26px rgb(0 0 0 / 32%), inset 0 1px 0 rgb(255 255 255 / 6%);
  --shadow-glass-lg: 0 18px 56px rgb(0 0 0 / 36%), inset 0 1px 0 rgb(255 255 255 / 6%);

  /* Border Radius - More subtle */
  --radius-xs: 3px;
  --radius-sm: 5px;
  --radius-md: 7px;
  --radius-lg: 9px;
  --radius-xl: 12px;
  --radius-full: 9999px;
  --radius-pill: 9999px;

  /* Focus */
  --focus-ring: 0 0 0 3px rgb(var(--accent-rgb) / 24%);
  --focus-ring-strong: 0 0 0 4px rgb(var(--accent-rgb) / 32%);
  --focus-outline: 2px solid rgb(var(--accent-rgb) / 60%);

  /* Touch targets */
  --touch-target: 44px;

  /* Z-Index */
  --z-base: 1;
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-drawer: 1040;
  --z-modal-backdrop: 1050;
  --z-modal: 1055;
  --z-popover: 1060;
  --z-tooltip: 1070;
  --z-overlay: 1080;
  --z-loading-overlay: 9999;

  /* Scrollbar */
  --scrollbar-thumb-color: rgb(var(--primary-rgb) / 35%);
  --scrollbar-track-color: transparent;
  --scrollbar-thumb-hover-color: rgb(var(--primary-rgb) / 55%);

  /* Utility Aliases */
  --text-color: var(--text-primary);
  --primary-color: var(--primary);
  --font-mono: var(--font-family-mono);

  /* Bootstrap Bridge */
  --bs-body-font-family: var(--font-family);
  --bs-body-font-size: var(--font-size-md);
  --bs-body-bg: var(--surface-0);
  --bs-body-bg-rgb: var(--surface-rgb);
  --bs-body-color: var(--text-primary);
  --bs-secondary-color: var(--text-secondary);
  --bs-tertiary-color: var(--text-tertiary);
  --bs-secondary-bg: var(--surface-2);
  --bs-tertiary-bg: var(--surface-3);
  --bs-border-color: var(--border-color);
  --bs-border-radius: var(--radius-lg);
  --bs-border-radius-sm: var(--radius-md);
  --bs-border-radius-lg: var(--radius-xl);
  --bs-border-radius-xl: var(--radius-xl);
  --bs-border-radius-xxl: calc(var(--radius-xl) + 4px);
  --bs-border-radius-pill: var(--radius-pill);
  --bs-primary: var(--primary);
  --bs-primary-rgb: var(--primary-rgb);
  --bs-secondary: var(--secondary);
  --bs-secondary-rgb: var(--secondary-rgb);
  --bs-success: var(--success);
  --bs-success-rgb: var(--success-rgb);
  --bs-info: var(--info);
  --bs-info-rgb: var(--info-rgb);
  --bs-warning: var(--warning);
  --bs-warning-rgb: var(--warning-rgb);
  --bs-danger: var(--danger);
  --bs-danger-rgb: var(--danger-rgb);
  --bs-light: var(--surface-2);
  --bs-dark: var(--surface-4);
  --bs-link-color: var(--primary);
  --bs-link-hover-color: var(--primary-dark);
  --bs-box-shadow: var(--shadow-sm);
  --bs-focus-ring-color: rgb(var(--accent-rgb) / 25%);
}

/* Light Mode Overrides */
:root[data-bs-theme="light"],
body.light-mode {
  --surface-0: #f4f6fa;
  --surface-1: #fff;
  --surface-2: #edf1f7;
  --surface-3: #e3e9f2;
  --surface-4: #d6dfec;
  --surface-elevated: #eef2f8;
  --surface-glass: rgb(255 255 255 / 90%);
  --surface-rgb: 244 246 250;
  --text-primary: rgb(15 22 33 / 92%);
  --text-secondary: rgb(54 64 80 / 75%);
  --text-tertiary: rgb(86 99 118 / 55%);
  --border-color: rgb(15 22 33 / 12%);
  --border-color-light: rgb(15 22 33 / 22%);
  --divider-color: rgb(15 22 33 / 8%);
  --border-rgb: 15 22 33;
  --text-rgb: 15 22 33;
  --shadow-xs: 0 1px 2px rgb(15 22 33 / 6%);
  --shadow-sm: 0 4px 12px rgb(15 22 33 / 10%);
  --shadow-md: 0 10px 24px rgb(15 22 33 / 14%);
  --shadow-lg: 0 16px 36px rgb(15 22 33 / 16%);
  --shadow-xl: 0 24px 52px rgb(15 22 33 / 18%);
  --shadow-elevation-1: 0 6px 16px rgb(15 22 33 / 10%);
  --shadow-elevation-2: 0 12px 24px rgb(15 22 33 / 12%);
  --shadow-elevation-3: 0 18px 36px rgb(15 22 33 / 14%);
  --shadow-elevation-4: 0 26px 48px rgb(15 22 33 / 16%);
  --shadow-elevation-5: 0 34px 60px rgb(15 22 33 / 18%);
  --scrollbar-thumb-color: rgb(var(--primary-rgb) / 30%);
  --scrollbar-track-color: rgb(15 22 33 / 6%);
  --scrollbar-thumb-hover-color: rgb(var(--primary-rgb) / 45%);
  --glass-1: rgb(var(--surface-rgb) / 82%);
  --glass-2: rgb(var(--surface-rgb) / 90%);
  --glass-3: rgb(var(--surface-rgb) / 96%);
  --glass-border: rgb(var(--border-rgb) / 18%);
  --app-bg:
    radial-gradient(1200px circle at 10% -10%, rgb(var(--primary-rgb) / 10%), transparent 60%),
    radial-gradient(1000px circle at 90% 0%, rgb(var(--secondary-rgb) / 8%), transparent 55%),
    radial-gradient(900px circle at 50% 120%, rgb(var(--info-rgb) / 8%), transparent 60%);

  /* Extended glass for light mode */
  --glass-panel: rgb(var(--surface-rgb) / 75%);
  --glass-panel-hover: rgb(var(--surface-rgb) / 82%);
  --glass-dropdown: rgb(var(--surface-rgb) / 88%);
  --glass-input: rgb(var(--surface-rgb) / 50%);
  --glass-input-focus: rgb(var(--surface-rgb) / 60%);
  --toggle-knob: var(--surface-0);

  /* Light mode glass borders */
  --glass-border-subtle: rgb(var(--border-rgb) / 6%);
  --glass-border-medium: rgb(var(--border-rgb) / 12%);
  --glass-border-strong: rgb(var(--border-rgb) / 18%);

  /* Light mode glass shadows */
  --shadow-glass-sm: 0 2px 8px rgb(0 0 0 / 10%), inset 0 1px 0 rgb(255 255 255 / 50%);
  --shadow-glass-md: 0 8px 24px rgb(0 0 0 / 12%), inset 0 1px 0 rgb(255 255 255 / 50%);
  --shadow-glass-lg: 0 16px 48px rgb(0 0 0 / 15%), inset 0 1px 0 rgb(255 255 255 / 50%);
}

/* Changelog: Modern Soft-Tech UI
   - Before: minimalist palette, tight radii, row-based layouts.
   - After: matte neon-pastel categories, pill controls, 20-24px radii.
   - Layout: Bento grid widgets with consistent headers/accents and staggered reveal.
   - Coverage Navigator: stacked widget panel + tokenized map legend accents.
   - Insights/Visits/Search: legacy duplicates removed, motion softened, tokens normalized.
*/
