{% extends "base.html" %} {% block title %}Every Street - Vehicle Management{%
endblock %} {% block extra_css %}
<link
  rel="stylesheet"
  href="{{ url_for('static', path='css/gas-tracking.css') | replace('http://', '//') }}"
/>
{% endblock %} {% block content %}
<div class="container-fluid px-4 py-3">
  <div class="page-header mb-4">
    <h1 class="mb-2">Vehicle Management</h1>
    <p class="text-muted">Manage your vehicles and customize their names</p>
  </div>

  <!-- Add Vehicle Button -->
  <div class="mb-4">
    <button class="btn btn-primary" id="add-vehicle-btn">
      <i class="fas fa-plus me-2"></i>Add Vehicle
    </button>
    <button class="btn btn-secondary" id="sync-vehicles-btn">
      <i class="fas fa-sync me-2"></i>Sync from Trips
    </button>
  </div>

  <!-- Vehicles Grid -->
  <div class="row g-3" id="vehicles-container">
    <!-- Vehicle cards will be populated here -->
  </div>
</div>

<!-- Add/Edit Vehicle Modal -->
<div
  class="modal fade"
  id="vehicle-modal"
  tabindex="-1"
  aria-labelledby="vehicle-modal-label"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="vehicle-modal-label">
          <i class="fas fa-car me-2"></i
          ><span id="modal-title-text">Add Vehicle</span>
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form id="vehicle-form">
          <input type="hidden" id="vehicle-id" />

          <div class="mb-3">
            <label for="vehicle-imei" class="form-label">
              <i class="fas fa-barcode me-1"></i>IMEI *
            </label>
            <input
              type="text"
              class="form-control"
              id="vehicle-imei"
              required
              placeholder="863123456789012"
            />
            <small class="text-muted">Device IMEI from Bouncie</small>
          </div>

          <div class="mb-3">
            <label for="vehicle-name" class="form-label">
              <i class="fas fa-tag me-1"></i>Custom Name *
            </label>
            <input
              type="text"
              class="form-control"
              id="vehicle-name"
              required
              placeholder="My Toyota Camry"
            />
            <small class="text-muted"
              >A friendly name to identify this vehicle</small
            >
          </div>

          <div class="mb-3">
            <label for="vehicle-vin" class="form-label">
              <i class="fas fa-id-card me-1"></i>VIN
            </label>
            <input
              type="text"
              class="form-control"
              id="vehicle-vin"
              placeholder="1HGBH41JXMN109186"
              maxlength="17"
            />
            <small class="text-muted"
              >Vehicle Identification Number (optional)</small
            >
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="vehicle-make" class="form-label">
                <i class="fas fa-industry me-1"></i>Make
              </label>
              <input
                type="text"
                class="form-control"
                id="vehicle-make"
                placeholder="Toyota"
              />
            </div>

            <div class="col-md-6 mb-3">
              <label for="vehicle-model" class="form-label">
                <i class="fas fa-car me-1"></i>Model
              </label>
              <input
                type="text"
                class="form-control"
                id="vehicle-model"
                placeholder="Camry"
              />
            </div>
          </div>

          <div class="mb-3">
            <label for="vehicle-year" class="form-label">
              <i class="fas fa-calendar me-1"></i>Year
            </label>
            <input
              type="number"
              class="form-control"
              id="vehicle-year"
              placeholder="2020"
              min="1900"
              max="2099"
            />
          </div>

          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              id="vehicle-active"
              checked
            />
            <label class="form-check-label" for="vehicle-active">
              Active (currently tracking this vehicle)
            </label>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Cancel
        </button>
        <button type="button" class="btn btn-primary" id="save-vehicle-btn">
          <i class="fas fa-save me-2"></i>Save Vehicle
        </button>
      </div>
    </div>
  </div>
</div>

{% endblock %} {% block extra_js %}
<script src="{{ url_for('static', path='js/vehicle-management.js') | replace('http://', '//') }}"></script>
{% endblock %}
